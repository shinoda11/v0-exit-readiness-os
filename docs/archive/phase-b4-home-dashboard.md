# Phase B4: ホーム画面にダッシュボード結果を復元

## 背景
Phase B3 で / をホーム画面に書き換えたが、旧ダッシュボードにあった「単一シナリオの結果表示」（スコア・資産推移チャート・キャッシュフロー・結論サマリー）が表示される場所がなくなった。

ホーム（/）にベースライン結果のサマリーを表示して、「今の自分」が常に見える状態にする。

## やること

app/page.tsx の「状態3: 世界線あり」の画面に、以下の要素を追加する:

### 現在の状態3の構成（維持）
- 分岐ツリー俯瞰
- 世界線スコアサマリー
- 発見カード
- アクションボタン（分岐を追加・変更 / 詳細を比較）

### 追加する要素（ツリーの上 or スコアサマリーの下に配置）
既存の dashboard コンポーネントからベースラインの結果を表示する:

1. **ExitReadinessCard** (components/dashboard/exit-readiness-card.tsx)
   - 現在のプロファイルでの総合スコア表示
   - これが「今の自分」の一目でわかるサマリー

2. **KeyMetricsCard** (components/dashboard/key-metrics-card.tsx)
   - 生存率・FIRE年齢・安心ライン等のキー数値

3. **AssetProjectionChart** (components/dashboard/asset-projection-chart.tsx)
   - 資産推移の折れ線グラフ（レスポンシブ対応済みのはず）

4. **ConclusionSummaryCard** (components/dashboard/conclusion-summary-card.tsx)
   - 結論テキスト + 世界線比較テンプレートへの導線

### 状態2（プロファイル済み・分岐未選択）にも追加
分岐がなくても、プロファイルだけでベースラインのシミュレーション結果は出せる。
状態2にも ExitReadinessCard と KeyMetricsCard を表示する。
「まだ分岐がありません」の上に「現在のスコア」が見えることで、分岐を追加するモチベーションが生まれる。

## ページ構成（状態3の完成形）

```
┌─────────────────────────────────┐
│ あなたの世界線                    │
│                                 │
│ ┌── スコアゲージ (ExitReadiness) ┐│
│ │  総合スコア: 78 / 100          ││
│ └────────────────────────────────┘│
│                                 │
│ ┌── キー指標 (KeyMetrics) ──────┐│
│ │ 生存率 95% │ FIRE 52歳 │ ...  ││
│ └────────────────────────────────┘│
│                                 │
│ ┌── 資産推移チャート ────────────┐│
│ │  (AssetProjectionChart)        ││
│ └────────────────────────────────┘│
│                                 │
│ ┌── 分岐ツリー俯瞰 ────────────┐│
│ │  幹 + 枝 + ゴールドノード      ││
│ └────────────────────────────────┘│
│                                 │
│ ┌ 世界線スコア比較 ─────────────┐│
│ │ 現状維持    78  ████████░░    ││
│ │ 転職したら  62  ██████░░░░    ││
│ └────────────────────────────────┘│
│                                 │
│ ┌ 発見カード ───────────────────┐│
│ │ Y 「転職」が余白に最も影響     ││
│ └────────────────────────────────┘│
│                                 │
│ ┌ 結論サマリー ─────────────────┐│
│ │ (ConclusionSummaryCard)        ││
│ └────────────────────────────────┘│
│                                 │
│ [分岐を追加・変更]  [詳細を比較]  │
└─────────────────────────────────┘
```

## シミュレーション実行の確認
これらのコンポーネントは lib/store.ts の simResult を参照して表示する。
simResult は profile の変更時に useSimulation フック経由で自動計算される。

確認ポイント:
- app/page.tsx で useSimulation() フックが呼ばれているか？
  - B3 の書き換えで消えている可能性がある
  - 消えていたら追加する: `useSimulation()` を page.tsx 内で呼ぶ
- simResult が null の場合はスケルトン or 非表示にする

## 注意事項
- 既存の dashboard コンポーネントはそのまま import して使う（新規作成しない）
- コンポーネントのファイル名・内部ロジックは変更しない
- モバイルファースト: 全コンポーネントが max-w-2xl 内に収まること
- AssetProjectionChart が横にはみ出さないことを確認（overflow-x-hidden）
- 完了後 pnpm build && pnpm test で確認
